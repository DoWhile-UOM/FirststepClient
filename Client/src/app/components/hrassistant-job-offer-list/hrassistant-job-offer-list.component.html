<div class="page-title">
	<p class="p-large">Job Offers by {{company_name}}</p>
	<p class="p-small">Assigned Applications for Review</p>
</div>

<mat-card class="emptymsg" *ngIf="jobListLength <= 0">
	<div>
		<p class="center-text">Can't Find Any Results!</p>
	</div>
</mat-card>

<div class="adTable mat-elevation-z8" *ngIf="jobListLength > 0">
	<table mat-table [dataSource]="dataSource" matSort>

		<!-- JobNo Column -->
		<ng-container matColumnDef="Job Number">
			<th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Job Number"> Job Number </th>
			<td mat-cell *matCellDef="let joboffer"> {{joboffer.job_number}} </td>
		</ng-container>

		<!-- Title Column -->
		<ng-container matColumnDef="Title">
			<th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by title"> Job Title </th>
			<td mat-cell *matCellDef="let joboffer"> {{joboffer.title}} </td>
		</ng-container>

		<!-- Field Column -->
		<ng-container matColumnDef="Target Field">
			<th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by title"> Target Field </th>
			<td mat-cell *matCellDef="let joboffer"> {{joboffer.field_name}} </td>
		</ng-container>

		<!-- Symbol Column -->
		<ng-container matColumnDef="Applications">
			<th mat-header-cell *matHeaderCellDef class="nu-header">Applications</th>
			<td mat-cell *matCellDef="let joboffer" class="nu-column"> {{joboffer.no_of_applications}} </td>
		</ng-container>

		<ng-container matColumnDef="Assigned">
			<th mat-header-cell *matHeaderCellDef class="nu-header">Assigned</th>
			<td mat-cell *matCellDef="let joboffer" class="nu-column"> {{joboffer.no_of_assigned_applications}} </td>
		</ng-container>

		<ng-container matColumnDef="Reviewed">
			<th mat-header-cell *matHeaderCellDef class="nu-header">Reviewed</th>
			<td mat-cell *matCellDef="let joboffer" class="nu-column"> {{joboffer.no_of_evaluated_applications}} </td>
		</ng-container>

		<ng-container matColumnDef="NotReviewed">
			<th mat-header-cell *matHeaderCellDef class="nu-header">Need to Review</th>
			<td mat-cell *matCellDef="let joboffer" class="nu-column-large"> {{joboffer.no_of_nonevaluated_applications}} </td>
		</ng-container>


		<ng-container matColumnDef="Action">
			<th mat-header-cell *matHeaderCellDef></th>
			<td mat-cell *matCellDef="let joboffer" class="action-buttons">
				<span>
					<button mat-icon-button color="primary" (click)="exploreAd(joboffer.advertisement_id)" class="small-icon-button">
						<mat-icon>explore</mat-icon>
					</button>
				</span>
			</td>
		</ng-container>

		<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
		<tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
	</table>

	<mat-paginator [pageSizeOptions]="[10, 15, 20]"
									showFirstLastButtons
									aria-label="Select page of periodic elements">
	</mat-paginator>
</div>

<app-spinner></app-spinner>